document.addEventListener("DOMContentLoaded",function(){"use strict";typeof WOW=="function"&&new WOW().init();const n=document.getElementById("campPopup");n&&typeof n.modal=="function"&&n.modal("show");const o=document.getElementById("back-to-top");o&&o.addEventListener("click",function(s){window.scrollTo({top:0,behavior:"smooth"})});const y=document.getElementById("mainNav");document.querySelectorAll(".toggle .toggle-title").forEach(s=>{if(s.classList.contains("active")){const e=s.closest(".toggle").querySelector(".toggle-inner");e&&(e.style.display="block")}s.addEventListener("click",function(){const e=this.closest(".toggle").querySelector(".toggle-inner");if(this.classList.contains("active")){if(this.classList.remove("active"),e){const t=e.scrollHeight,l=e.style.transition;e.style.transition="",requestAnimationFrame(function(){e.style.height=t+"px",e.style.transition=l,requestAnimationFrame(function(){e.style.height=0,setTimeout(()=>{e.style.display="none"},200)})})}}else if(this.classList.add("active"),e){e.style.display="block";const t=e.scrollHeight;e.style.height=0,requestAnimationFrame(function(){e.style.transition="height 200ms",e.style.height=t+"px",setTimeout(()=>{e.style.height=""},200)})}})});let d=window.innerWidth<992,h=!1,p=d;function f(){h||(document.querySelectorAll(".dropdown").forEach(e=>{e._mouseEnterHandler=function(){const t=this.querySelector(".dropdown-menu");t&&(t.style.display="block",t.style.opacity=0,setTimeout(()=>{t.style.transition="opacity 200ms",t.style.opacity=1},10))},e._mouseLeaveHandler=function(){const t=this.querySelector(".dropdown-menu");t&&(t.style.transition="opacity 200ms",t.style.opacity=0,setTimeout(()=>{t.style.display="none"},200))},e.addEventListener("mouseenter",e._mouseEnterHandler),e.addEventListener("mouseleave",e._mouseLeaveHandler)}),h=!0)}function C(){h&&(document.querySelectorAll(".dropdown").forEach(e=>{e._mouseEnterHandler&&e.removeEventListener("mouseenter",e._mouseEnterHandler),e._mouseLeaveHandler&&e.removeEventListener("mouseleave",e._mouseLeaveHandler)}),h=!1)}d||f(),document.querySelectorAll(".carousel").forEach(s=>{typeof bootstrap<"u"&&bootstrap.Carousel&&new bootstrap.Carousel(s)});const w=document.getElementById("clients-list");w&&typeof owlCarousel=="function"&&new owlCarousel(w,{items:6,autoplay:!0,smartSpeed:700,loop:!0,dots:!1,autoplayHoverPause:!0,responsive:{0:{items:1},480:{items:3},768:{items:5},992:{items:6}}});const E=document.getElementById("thought");E&&typeof owlCarousel=="function"&&new owlCarousel(E,{autoplay:!0,autoplayTimeout:3e3,loop:!0,margin:20,autoplayHoverPause:!0,dots:!1,responsive:{0:{items:2},768:{items:4},992:{items:6}}});const L=document.getElementById("ourrefs");L&&typeof owlCarousel=="function"&&new owlCarousel(L,{autoplay:!0,autoplayTimeout:1750,loop:!0,margin:10,autoplayHoverPause:!0,responsive:{0:{dots:!1,items:3},480:{dots:!1,items:3},768:{items:4},992:{items:8}}});const T=document.getElementById("customers-testimonials");T&&typeof owlCarousel=="function"&&new owlCarousel(T,{items:1,autoplay:!0,smartSpeed:700,loop:!0,autoplayHoverPause:!0}),document.querySelectorAll(".thumbnail-blogs").forEach(s=>{s.addEventListener("mouseenter",function(){const e=this.querySelector(".caption");if(e){e.style.display="block";const t=e.scrollHeight;e.style.height=0,e.style.overflow="hidden",e.style.transition="height 250ms",requestAnimationFrame(()=>{e.style.height=t+"px"})}}),s.addEventListener("mouseleave",function(){const e=this.querySelector(".caption");e&&(e.style.transition="height 205ms",e.style.height=0,setTimeout(()=>{e.style.display="none"},205))})});function k(s,e){document.querySelectorAll(s).forEach(l=>{l.addEventListener("submit",function(i){let g=!0;const b=this.getAttribute("data-msg");if(this.querySelectorAll("input, select, textarea").forEach(a=>{if(a.hasAttribute("required")){const u=getVal(a),v=a.getAttribute("type");u===null||v==="email"&&!isEmail(u)?(a.classList.remove("is-valid"),a.classList.add("is-invalid"),g&&doToast("e",b),g=!1,i.preventDefault()):(a.classList.remove("is-invalid"),a.classList.add("is-valid"))}}),e&&g){i.preventDefault();const a=new FormData(this);return fetch(this.action,{method:this.method,body:a}).then(u=>u.json()).then(u=>{doToast(u.type,u.content),u.refresh&&location.reload()}).catch(u=>{alert(u)}),!1}})})}k(".doValidateAndSend",!1),k(".doValidateAndAjax",!0);const q=document.getElementById("form-contact");q&&q.addEventListener("submit",function(s){s.preventDefault(),this.querySelectorAll(".error-message, .sent-message").forEach(r=>r.style.display="none");const t=document.getElementById("namesurname").value,l=document.getElementById("phone").value,i=document.getElementById("subject").value,g=document.getElementById("email").value,b=document.getElementById("message").value;if(t.length<3||i.length<3||g.length<3||l.length<3||b.length<3){const r=this.querySelector(".error-message");r&&(r.innerHTML=r.getAttribute("data-msg"),r.style.display="block",r.style.opacity=0,setTimeout(()=>{r.style.transition="opacity 200ms",r.style.opacity=1},10))}else{const r=this.querySelectorAll("button");r.forEach(m=>m.disabled=!0);const a=document.querySelector(".loading-form");a&&(a.style.display="block");const u=new FormData(this),v=new URLSearchParams;for(const m of u)v.append(m[0],m[1]);fetch(this.action,{method:this.method,body:v,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(m=>m.json()).then(m=>{if(a&&(a.style.display="none"),m.type==="e"){const c=this.querySelector(".error-message");c&&(c.innerHTML=m.content,c.style.display="block",c.style.opacity=0,setTimeout(()=>{c.style.transition="opacity 200ms",c.style.opacity=1},10)),r.forEach(B=>B.disabled=!1)}else{const c=this.querySelector(".sent-message");c&&(c.innerHTML=m.content,c.style.display="block",c.style.opacity=0,setTimeout(()=>{c.style.transition="opacity 200ms",c.style.opacity=1},10))}}).catch(m=>{alert(m)})}return!1}),document.addEventListener("click",function(s){if(s.target.closest(".navbar-nav .dropdown-toggle")&&window.innerWidth<992){s.preventDefault();const t=s.target.closest(".dropdown").querySelector(".dropdown-menu");if(document.querySelectorAll(".navbar .dropdown-menu.show").forEach(i=>{i!==t&&(i.style.height=i.scrollHeight+"px",i.style.transition="height 200ms",i.style.overflow="hidden",setTimeout(()=>{i.style.height="0",setTimeout(()=>{i.classList.remove("show"),i.style.display="none",i.style.height="",i.style.overflow=""},200)},10))}),t.classList.contains("show"))t.style.height=t.scrollHeight+"px",t.style.transition="height 200ms",t.style.overflow="hidden",setTimeout(()=>{t.style.height="0",setTimeout(()=>{t.classList.remove("show"),t.style.display="none",t.style.height="",t.style.overflow=""},200)},10);else{t.classList.add("show"),t.style.display="block",t.style.height="0",t.style.overflow="hidden",t.style.transition="height 200ms";const i=t.scrollHeight;setTimeout(()=>{t.style.height=i+"px",setTimeout(()=>{t.style.height="",t.style.overflow=""},200)},10)}}}),document.querySelectorAll(".navbar-toggler").forEach(s=>{s.addEventListener("click",function(){const e=document.querySelector(".navbar-collapse");e&&!e.classList.contains("show")&&document.querySelectorAll(".navbar .dropdown-menu.show").forEach(l=>{l.style.height=l.scrollHeight+"px",l.style.transition="height 200ms",l.style.overflow="hidden",setTimeout(()=>{l.style.height="0",setTimeout(()=>{l.classList.remove("show"),l.style.display="none",l.style.height="",l.style.overflow=""},200)},10)})})});function S(){document.querySelectorAll(".navbar .dropdown-menu").forEach(e=>{e.removeAttribute("style"),e.classList.remove("show")})}window.addEventListener("resize",function(){const s=window.innerWidth,e=d;d=s<992,e!==d&&(d?(C(),p=!0):(S(),f())),s>=992&&S()});function A(){if(window.innerWidth>=992&&window.ng&&window.ng.getComponent){const s=window.ng.getComponent(document.querySelector("app-navbar"));s&&(s.isNavbarCollapsed=!1)}}window.addEventListener("resize",A),A()});function isEmail(n){return/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(n)}function getVal(n){let o=null;switch(n.tagName){case"INPUT":switch(n.type){case"text":case"email":case"file":case"number":case"password":const f=n.value;f!==""&&(o=f);break;case"radio":case"checkbox":n.checked&&(o=n.value);break}break;case"SELECT":const d=n.options[n.selectedIndex],h=d?d.value:"";h!=="-1"&&(o=h);break;case"TEXTAREA":const p=n.value;p!==""&&(o=p);break;default:o=null;break}return o}function doToast(n,o){switch(n){case"s":toastr.success(o);break;case"w":toastr.warning(o);break;case"i":toastr.info(o);break;case"e":toastr.error(o);break;default:toastr.info(o);break}}window.addEventListener("scroll",function(){const n=window.pageYOffset||document.documentElement.scrollTop,o=document.querySelector("nav"),y=document.getElementById("back-to-top");n<50?(o&&o.classList.remove("vesco-top-nav"),y&&(y.style.display="none")):(o&&o.classList.add("vesco-top-nav"),y&&(y.style.display="block"))});
