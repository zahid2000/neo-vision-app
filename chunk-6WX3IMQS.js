import{a as H}from"./chunk-WOCKW6FY.js";import{h as W,k as K}from"./chunk-DERLH2UM.js";import{a as Q,c as U,e as Z,j as G}from"./chunk-OMW5GF2N.js";import{k as q,l as D,m as V,n as j}from"./chunk-SOEFJHTK.js";import{$ as F,Ab as B,Bb as N,Cb as A,Fb as l,Ga as L,Gb as m,Hb as P,Ib as z,J as S,Jb as R,Ka as o,Qa as v,Va as w,Ya as E,_ as I,_a as d,gb as a,ib as y,kb as r,lb as i,mb as g,n as O,nb as C,ob as _,pb as k,sb as s,wb as T,xb as p,yb as $,zb as f}from"./chunk-ZTPK7JFM.js";var h=class e{transform(n,t){return!n||t===""?n||[]:(t=t.toLowerCase(),n.filter(c=>c.name.toLowerCase().includes(t)||c.stockCode.toLowerCase().includes(t)))}static \u0275fac=function(t){return new(t||e)};static \u0275pipe=E({name:"productFilter",type:e,pure:!0})};var X=e=>["/products/category",e],b=e=>["/product",e];function tt(e,n){if(e&1&&(r(0,"li")(1,"a",18),p(2),i()()),e&2){let t=n.$implicit,c=s(3);o(),y("active",c.currentCategoryId===t.id),a("routerLink",l(4,X,t.id)),o(),f(" ",t.name," ")}}function et(e,n){if(e&1&&(C(0),r(1,"ul",17),d(2,tt,3,6,"li",10),i(),_()),e&2){let t=s().$implicit;o(2),a("ngForOf",t.children)}}function nt(e,n){if(e&1&&(C(0),r(1,"a",15),p(2),i(),d(3,et,3,1,"ng-container",16),_()),e&2){let t=n.$implicit,c=s();o(),y("active",c.currentCategoryId===t.id),a("routerLink",l(5,X,t.id)),o(),f(" ",t.name," "),o(),a("ngIf",c.showSubcategories(t))}}function ot(e,n){if(e&1&&(r(0,"div",20)(1,"div",21)(2,"a",22),g(3,"img",23),i(),r(4,"div",24)(5,"div",25)(6,"a",22)(7,"p",26),p(8),i(),p(9),i()(),r(10,"div",27)(11,"a",28),g(12,"i",29),p(13," M\u0259hsulu \u0130nc\u0259l\u0259 "),i()()()()()),e&2){let t=n.$implicit;o(2),a("routerLink",l(9,b,t.id))("title",t.name),o(),a("src",t.imagePath,L)("alt",t.name),o(3),a("routerLink",l(11,b,t.id))("title",t.name),o(2),$(t.stockCode),o(),f(" ",t.name," "),o(2),a("routerLink",l(13,b,t.id))}}function it(e,n){if(e&1&&(C(0),d(1,ot,14,15,"div",19),m(2,"async"),m(3,"productFilter"),_()),e&2){let t=s();o(),a("ngForOf",z(3,3,P(2,1,t.products$),t.searchQuery))}}function rt(e,n){e&1&&(r(0,"div",30)(1,"h4"),p(2,"Bu kateqoriyada m\u0259hsul tap\u0131lmad\u0131."),i(),r(3,"p"),p(4,"Z\u0259hm\u0259t olmasa, ba\u015Fqa bir kateqoriya se\xE7in v\u0259 ya daha sonra yenid\u0259n c\u0259hd edin."),i()())}var J=class e{constructor(n,t){this.route=n;this.productService=t;this.categories$=this.productService.getCategories()}products$=O([]);categories$;currentCategoryId=null;parentCategory=null;searchQuery="";ngOnInit(){this.route.paramMap.pipe(S(n=>{let t=n.get("id");return this.currentCategoryId=t?+t:null,this.productService.getProductsByCategory(this.currentCategoryId)})).subscribe(n=>{this.products$=O(n)})}showSubcategories(n){return!n.children||n.children.length===0?!1:this.currentCategoryId===n.id||n.children.some(t=>t.id===this.currentCategoryId)}static \u0275fac=function(t){return new(t||e)(v(W),v(H))};static \u0275cmp=w({type:e,selectors:[["app-product-list"]],decls:25,vars:8,consts:[["noProducts",""],["id","shop-p1",1,"shop-p1"],[1,"container"],[1,"row"],[1,"col-md-12"],[1,"row","mt-4"],[1,"col-md-3"],[1,"shop-p1-title"],[1,"heading-border-light","w-100"],[1,"list-group"],[4,"ngFor","ngForOf"],[1,"col-md-9"],[1,"input-group","mb-3"],["type","text","placeholder","M\u0259hsul axtar...",1,"form-control",3,"ngModelChange","ngModel"],[4,"ngIf","ngIfElse"],[1,"list-group-item",3,"routerLink"],[4,"ngIf"],[1,"mb-1"],[1,"list-group-item","mini",3,"routerLink"],["class","col-6 col-lg-4 mb-4",4,"ngFor","ngForOf"],[1,"col-6","col-lg-4","mb-4"],[1,"card"],[3,"routerLink","title"],[1,"card-img-top",3,"src","alt"],[1,"card-body","text-center"],[1,"card-title"],[1,"text-danger","font-weight-bold","m-0"],[1,"cart-icon","text-center"],["title","M\u0259hsulu \u0130nc\u0259l\u0259",3,"routerLink"],[1,"fas","fa-arrow-alt-circle-right"],[1,"col-12","text-center","py-5"]],template:function(t,c){if(t&1){let u=k();r(0,"section",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h1"),p(5,"M\u0259hsullar"),i(),r(6,"p"),p(7,"B\xFCt\xFCn m\u0259hsullar\u0131m\u0131z\u0131 k\u0259\u015Ff edin"),i()()(),r(8,"div",5)(9,"div",6)(10,"div",7)(11,"h3"),p(12,"Kateqoriyalar"),i(),g(13,"div",8),i(),r(14,"div",9),d(15,nt,4,7,"ng-container",10),m(16,"async"),i()(),r(17,"div",11)(18,"div",12)(19,"input",13),A("ngModelChange",function(M){return I(u),N(c.searchQuery,M)||(c.searchQuery=M),F(M)}),i()(),r(20,"div",3),d(21,it,4,6,"ng-container",14),m(22,"async"),d(23,rt,5,0,"ng-template",null,0,R),i()()()()()}if(t&2){let u,x=T(24);o(15),a("ngForOf",P(16,4,c.categories$)),o(4),B("ngModel",c.searchQuery),o(2),a("ngIf",(u=P(22,6,c.products$))==null?null:u.length)("ngIfElse",x)}},dependencies:[j,q,D,V,K,G,Q,U,Z,h],styles:[".shop-p1[_ngcontent-%COMP%]{padding:3rem 0;background-color:#f8f9fa}.shop-p1[_ngcontent-%COMP%]   .shop-p1-title[_ngcontent-%COMP%]{margin-bottom:1.5rem}.shop-p1[_ngcontent-%COMP%]   .shop-p1-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:600;margin-bottom:.5rem}.shop-p1[_ngcontent-%COMP%]   .shop-p1-title[_ngcontent-%COMP%]   .heading-border-light[_ngcontent-%COMP%]{height:2px;background-color:#0000001a}.shop-p1[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{border-radius:0;transition:all .3s ease}.shop-p1[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]:hover{background-color:#00000008}.shop-p1[_ngcontent-%COMP%]   .list-group-item.active[_ngcontent-%COMP%]{color:#fff;background-color:#dc3545;border-color:#dc3545}.shop-p1[_ngcontent-%COMP%]   .list-group-item.mini[_ngcontent-%COMP%]{padding-left:2rem;font-size:.9rem}.shop-p1[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding-left:0}.shop-p1[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:0}.shop-p1[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.125);transition:all .3s ease;height:100%}.shop-p1[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover{box-shadow:0 5px 15px #0000001a}.shop-p1[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-img-top[_ngcontent-%COMP%]{padding:1rem;object-fit:contain;height:200px}.shop-p1[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{display:flex;flex-direction:column}.shop-p1[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{margin-bottom:1rem;flex-grow:1}.shop-p1[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#333;text-decoration:none;font-weight:500;font-size:1rem}.shop-p1[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#dc3545}.shop-p1[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .cart-icon[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#dc3545;text-decoration:none;font-size:.9rem;display:inline-block;padding:.3rem .7rem;border:1px solid #dc3545;border-radius:3px;transition:all .3s ease}.shop-p1[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .cart-icon[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#dc3545;color:#fff}"]})};export{J as ProductListComponent};
