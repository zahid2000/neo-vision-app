document.addEventListener("DOMContentLoaded",function(){"use strict";typeof WOW=="function"&&new WOW().init();const n=document.getElementById("campPopup");n&&typeof n.modal=="function"&&n.modal("show");const o=document.getElementById("back-to-top");o&&o.addEventListener("click",function(s){window.scrollTo({top:0,behavior:"smooth"})});const y=document.getElementById("mainNav");document.querySelectorAll(".toggle .toggle-title").forEach(s=>{if(s.classList.contains("active")){const e=s.closest(".toggle").querySelector(".toggle-inner");e&&(e.style.display="block")}s.addEventListener("click",function(){const e=this.closest(".toggle").querySelector(".toggle-inner");if(this.classList.contains("active")){if(this.classList.remove("active"),e){const t=e.scrollHeight,d=e.style.transition;e.style.transition="",requestAnimationFrame(function(){e.style.height=t+"px",e.style.transition=d,requestAnimationFrame(function(){e.style.height=0,setTimeout(()=>{e.style.display="none"},200)})})}}else if(this.classList.add("active"),e){e.style.display="block";const t=e.scrollHeight;e.style.height=0,requestAnimationFrame(function(){e.style.transition="height 200ms",e.style.height=t+"px",setTimeout(()=>{e.style.height=""},200)})}})});let m=window.innerWidth<992,f=!1,h=m;function g(){f||(document.querySelectorAll(".dropdown").forEach(e=>{e._mouseEnterHandler=function(){const t=this.querySelector(".dropdown-menu");t&&(t.style.display="block",t.style.opacity=0,setTimeout(()=>{t.style.transition="opacity 200ms",t.style.opacity=1},10))},e._mouseLeaveHandler=function(){const t=this.querySelector(".dropdown-menu");t&&(t.style.transition="opacity 200ms",t.style.opacity=0,setTimeout(()=>{t.style.display="none"},200))},e.addEventListener("mouseenter",e._mouseEnterHandler),e.addEventListener("mouseleave",e._mouseLeaveHandler)}),f=!0)}function C(){f&&(document.querySelectorAll(".dropdown").forEach(e=>{e._mouseEnterHandler&&e.removeEventListener("mouseenter",e._mouseEnterHandler),e._mouseLeaveHandler&&e.removeEventListener("mouseleave",e._mouseLeaveHandler)}),f=!1)}m?h=!0:g(),document.querySelectorAll(".carousel").forEach(s=>{typeof bootstrap<"u"&&bootstrap.Carousel&&new bootstrap.Carousel(s)});const E=document.getElementById("clients-list");E&&typeof owlCarousel=="function"&&new owlCarousel(E,{items:6,autoplay:!0,smartSpeed:700,loop:!0,dots:!1,autoplayHoverPause:!0,responsive:{0:{items:1},480:{items:3},768:{items:5},992:{items:6}}});const L=document.getElementById("thought");L&&typeof owlCarousel=="function"&&new owlCarousel(L,{autoplay:!0,autoplayTimeout:3e3,loop:!0,margin:20,autoplayHoverPause:!0,dots:!1,responsive:{0:{items:2},768:{items:4},992:{items:6}}});const T=document.getElementById("ourrefs");T&&typeof owlCarousel=="function"&&new owlCarousel(T,{autoplay:!0,autoplayTimeout:1750,loop:!0,margin:10,autoplayHoverPause:!0,responsive:{0:{dots:!1,items:3},480:{dots:!1,items:3},768:{items:4},992:{items:8}}});const k=document.getElementById("customers-testimonials");k&&typeof owlCarousel=="function"&&new owlCarousel(k,{items:1,autoplay:!0,smartSpeed:700,loop:!0,autoplayHoverPause:!0}),document.querySelectorAll(".thumbnail-blogs").forEach(s=>{s.addEventListener("mouseenter",function(){const e=this.querySelector(".caption");if(e){e.style.display="block";const t=e.scrollHeight;e.style.height=0,e.style.overflow="hidden",e.style.transition="height 250ms",requestAnimationFrame(()=>{e.style.height=t+"px"})}}),s.addEventListener("mouseleave",function(){const e=this.querySelector(".caption");e&&(e.style.transition="height 205ms",e.style.height=0,setTimeout(()=>{e.style.display="none"},205))})});function A(s,e){document.querySelectorAll(s).forEach(d=>{d.addEventListener("submit",function(a){let p=!0;const w=this.getAttribute("data-msg");if(this.querySelectorAll("input, select, textarea").forEach(i=>{if(i.hasAttribute("required")){const c=getVal(i),v=i.getAttribute("type");c===null||v==="email"&&!isEmail(c)?(i.classList.remove("is-valid"),i.classList.add("is-invalid"),p&&doToast("e",w),p=!1,a.preventDefault()):(i.classList.remove("is-invalid"),i.classList.add("is-valid"))}}),e&&p){a.preventDefault();const i=new FormData(this);return fetch(this.action,{method:this.method,body:i}).then(c=>c.json()).then(c=>{doToast(c.type,c.content),c.refresh&&location.reload()}).catch(c=>{alert(c)}),!1}})})}A(".doValidateAndSend",!1),A(".doValidateAndAjax",!0);const q=document.getElementById("form-contact");q&&q.addEventListener("submit",function(s){s.preventDefault(),this.querySelectorAll(".error-message, .sent-message").forEach(l=>l.style.display="none");const t=document.getElementById("namesurname").value,d=document.getElementById("phone").value,a=document.getElementById("subject").value,p=document.getElementById("email").value,w=document.getElementById("message").value;if(t.length<3||a.length<3||p.length<3||d.length<3||w.length<3){const l=this.querySelector(".error-message");l&&(l.innerHTML=l.getAttribute("data-msg"),l.style.display="block",l.style.opacity=0,setTimeout(()=>{l.style.transition="opacity 200ms",l.style.opacity=1},10))}else{const l=this.querySelectorAll("button");l.forEach(u=>u.disabled=!0);const i=document.querySelector(".loading-form");i&&(i.style.display="block");const c=new FormData(this),v=new URLSearchParams;for(const u of c)v.append(u[0],u[1]);fetch(this.action,{method:this.method,body:v,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(u=>u.json()).then(u=>{if(i&&(i.style.display="none"),u.type==="e"){const r=this.querySelector(".error-message");r&&(r.innerHTML=u.content,r.style.display="block",r.style.opacity=0,setTimeout(()=>{r.style.transition="opacity 200ms",r.style.opacity=1},10)),l.forEach(B=>B.disabled=!1)}else{const r=this.querySelector(".sent-message");r&&(r.innerHTML=u.content,r.style.display="block",r.style.opacity=0,setTimeout(()=>{r.style.transition="opacity 200ms",r.style.opacity=1},10))}}).catch(u=>{alert(u)})}return!1}),document.addEventListener("click",function(s){if(s.target.closest(".navbar-nav .dropdown-toggle")&&!s.target.closest("app-navbar")&&window.innerWidth<992&&h){s.preventDefault();const t=s.target.closest(".dropdown").querySelector(".dropdown-menu");if(document.querySelectorAll('.navbar .dropdown-menu.show:not([id^="navbarResponsive"] .dropdown-menu)').forEach(a=>{if(a!==t){const p=a.closest(".dropdown");a.style.height=a.scrollHeight+"px",a.style.transition="height 200ms",a.style.overflow="hidden",setTimeout(()=>{a.style.height="0",setTimeout(()=>{a.classList.remove("show"),a.style.display="none",a.removeAttribute("style")},200)},10)}}),t.classList.contains("show"))t.style.height=t.scrollHeight+"px",t.style.transition="height 200ms",t.style.overflow="hidden",setTimeout(()=>{t.style.height="0",setTimeout(()=>{t.classList.remove("show"),t.style.display="none",t.removeAttribute("style")},200)},10);else{t.classList.add("show"),t.style.display="block",t.style.height="0",t.style.overflow="hidden",t.style.transition="height 200ms";const a=t.scrollHeight;setTimeout(()=>{t.style.height=a+"px",setTimeout(()=>{t.style.height="",t.style.overflow="",t.style.transition=""},200)},10)}}}),document.querySelectorAll(".navbar-toggler:not(app-navbar .navbar-toggler)").forEach(s=>{s.addEventListener("click",function(){const e=document.querySelector(".navbar-collapse:not(app-navbar .navbar-collapse)");e&&!e.classList.contains("show")&&document.querySelectorAll(".navbar .dropdown-menu.show:not(app-navbar .dropdown-menu)").forEach(d=>{d.classList.remove("show"),d.style.display="none",d.removeAttribute("style")})})});function b(){document.querySelectorAll(".navbar .dropdown-menu").forEach(e=>{e.removeAttribute("style"),e.classList.remove("show")})}window.addEventListener("resize",function(){const s=window.innerWidth,e=m;m=s<992,e!==m&&(m?(C(),h=!0,b()):(b(),g(),h=!1)),s>=992&&b()});function S(){if(window.innerWidth>=992&&window.ng&&window.ng.getComponent){const s=window.ng.getComponent(document.querySelector("app-navbar"));s&&(s.isNavbarCollapsed=!1)}}window.addEventListener("resize",S),S()});function isEmail(n){return/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(n)}function getVal(n){let o=null;switch(n.tagName){case"INPUT":switch(n.type){case"text":case"email":case"file":case"number":case"password":const g=n.value;g!==""&&(o=g);break;case"radio":case"checkbox":n.checked&&(o=n.value);break}break;case"SELECT":const m=n.options[n.selectedIndex],f=m?m.value:"";f!=="-1"&&(o=f);break;case"TEXTAREA":const h=n.value;h!==""&&(o=h);break;default:o=null;break}return o}function doToast(n,o){switch(n){case"s":toastr.success(o);break;case"w":toastr.warning(o);break;case"i":toastr.info(o);break;case"e":toastr.error(o);break;default:toastr.info(o);break}}window.addEventListener("scroll",function(){const n=window.pageYOffset||document.documentElement.scrollTop,o=document.querySelector("nav"),y=document.getElementById("back-to-top");n<50?(o&&o.classList.remove("vesco-top-nav"),y&&(y.style.display="none")):(o&&o.classList.add("vesco-top-nav"),y&&(y.style.display="block"))});
